{{ if .Values.storageClass.create }}
apiVersion: storage.k8s.io/v1
kind: StorageClass
metadata:
  name: {{ .Values.storageClass.name }}
provisioner: nfs.csi.k8s.io
allowVolumeExpansion: true
parameters:
  archiveOnDelete: "false"
mountOptions:
{{ toYaml .Values.nfs.mountOptions | indent 2 }}
reclaimPolicy: Retain
volumeBindingMode: Immediate
{{ end }}
